<!DOCTYPE html>




<html class="theme-next muse" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#fff">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1815293530059355"
     crossorigin="anonymous"></script>








<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="3uDNOuCQu6inuHg_QHas_nknR5rEe5WHetNJ6bVEwVA" />



  <meta name="msvalidate.01" content="DCCE27951FD510E830BDD5D014EB15B4" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Roboto Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/uploads/favicon-32x32.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/uploads/favicon-16x16.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#fff">





  <meta name="keywords" content="mybatis, MyBatis Generator, 逆向工程, springboot, 逆向, 自动化生成" />










<meta name="description" content="轻松搞定数据对象实例化">
<meta property="og:type" content="article">
<meta property="og:title" content="MyBatis Generator 逆向工程详解">
<meta property="og:url" content="https://woodwhales.cn/2018/10/29/015/index.html">
<meta property="og:site_name" content="woodwhale&#39;s blog">
<meta property="og:description" content="轻松搞定数据对象实例化">
<meta property="og:locale">
<meta property="og:image" content="https://image.woodwhales.cn/015/face.png">
<meta property="article:published_time" content="2018-10-29T07:30:00.000Z">
<meta property="article:modified_time" content="2025-05-24T10:10:59.256Z">
<meta property="article:author" content="木鲸鱼">
<meta property="article:tag" content="Spring Boot">
<meta property="article:tag" content="MyBatis">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://image.woodwhales.cn/015/face.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: 'undefined',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://woodwhales.cn/2018/10/29/015/"/>




<script async src="https://fundingchoicesmessages.google.com/i/pub-1815293530059355?ers=1" nonce="iiDO3i5ZgRmrRRl65XssBQ"></script><script nonce="iiDO3i5ZgRmrRRl65XssBQ">(function() {function signalGooglefcPresent() {if (!window.frames['googlefcPresent']) {if (document.body) {const iframe = document.createElement('iframe'); iframe.style = 'width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;'; iframe.style.display = 'none'; iframe.name = 'googlefcPresent'; document.body.appendChild(iframe);} else {setTimeout(signalGooglefcPresent, 0);}}}signalGooglefcPresent();})();</script>

  <title>MyBatis Generator 逆向工程详解 | woodwhale's blog</title>
  








<meta name="generator" content="Hexo 7.0.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

	<div class="bg_content">
		<canvas id="canvas"></canvas>
	</div>

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">woodwhale's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">技术改变生活</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tools">
          <a href="/tools/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-cogs"></i> <br />
            
            工具
          </a>
        </li>
      
        
        <li class="menu-item menu-item-resources">
          <a href="/resources/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-gift"></i> <br />
            
            福利
          </a>
        </li>
      
        
        <li class="menu-item menu-item-setup">
          <a href="/setup/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-power-off"></i> <br />
            
            装机
          </a>
        </li>
      
        
        <li class="menu-item menu-item-works">
          <a href="/works/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-bars"></i> <br />
            
            作品
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-futbol-o"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://woodwhales.cn/2018/10/29/015/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="woodwhales">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar-woodwhale.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="woodwhale's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">MyBatis Generator 逆向工程详解</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-29T15:30:00+08:00">
                2018-10-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Mybatis/" itemprop="url" rel="index">
                    <span itemprop="name">Mybatis</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/10/29/015/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2018/10/29/015/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-pencil-square-o"></i>
                </span>
                
                  <span class="post-meta-item-text">全文总计&#58;</span>
                
                <span title="全文总计">
                   字
                </span>
              

              

              
            </div>
          

          
              <div class="post-description">
                  轻松搞定数据对象实例化
              </div>
          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      
        <div class="post-gallery" itemscope itemtype="http://schema.org/ImageGallery">
          
          
            <div class="post-gallery-row">
              <a class="post-gallery-img fancybox"
                 target="_blank" href="https://image.woodwhales.cn/015/face.png" rel="gallery_cmdkgfqst001b34v8ev04c78t noopener"
                 itemscope itemtype="http://schema.org/ImageObject" itemprop="url">
                <img src="https://image.woodwhales.cn/015/face.png" itemprop="contentUrl"/>
              </a>
            
          

          
          </div>
        </div>
      

      
	    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1815293530059355"
     crossorigin="anonymous"></script>
        <blockquote>
<p>本文工程示例源码：<a target="_blank" rel="noopener" href="https://github.com/woodwhales/woodwhales-study/tree/master/generate-mapper">https://github.com/woodwhales/woodwhales-study/tree/master/generate-mapper</a></p>
</blockquote>
<h4 id="一、Mysql-数据库数据准备"><a href="#一、Mysql-数据库数据准备" class="headerlink" title="一、Mysql 数据库数据准备"></a>一、Mysql 数据库数据准备</h4><h5 id="1-1-创建数据库"><a href="#1-1-创建数据库" class="headerlink" title="1.1 创建数据库"></a>1.1 创建数据库</h5><figure class="highlight sql"><figcaption><span>创建数据库</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE `my_test_db` <span class="comment">/*!40100 COLLATE 'utf8mb4_unicode_ci' */</span>;</span><br><span class="line"><span class="keyword">SHOW</span> DATABASES;</span><br></pre></td></tr></tbody></table></figure>

<h5 id="2-2-创建用户表"><a href="#2-2-创建用户表" class="headerlink" title="2.2 创建用户表"></a>2.2 创建用户表</h5><figure class="highlight sql"><figcaption><span>创建数据库表</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `<span class="keyword">User</span>` (</span><br><span class="line">    `id` <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    `username` <span class="type">VARCHAR</span>(<span class="number">120</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    `password` <span class="type">VARCHAR</span>(<span class="number">120</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    `gender` BIT <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    `email` <span class="type">VARCHAR</span>(<span class="number">120</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    `born` <span class="type">TIMESTAMP</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    `extraInfo` <span class="type">VARCHAR</span>(<span class="number">500</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">)</span><br><span class="line"><span class="keyword">COLLATE</span><span class="operator">=</span><span class="string">'utf8mb4_unicode_ci'</span></span><br><span class="line">ENGINE<span class="operator">=</span>InnoDB;</span><br></pre></td></tr></tbody></table></figure>

<h5 id="1-3-创建购物车表"><a href="#1-3-创建购物车表" class="headerlink" title="1.3 创建购物车表"></a>1.3 创建购物车表</h5><figure class="highlight sql"><figcaption><span>创建数据库表</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `Cart` (</span><br><span class="line">    `id` <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    `logisticId` <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    `number` <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    `discount` <span class="keyword">DOUBLE</span> <span class="keyword">NULL</span>,</span><br><span class="line">    `total` <span class="keyword">DOUBLE</span> <span class="keyword">NULL</span>,</span><br><span class="line">    `extrainfo` <span class="type">VARCHAR</span>(<span class="number">500</span>) <span class="keyword">NULL</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (`id`),</span><br><span class="line">    <span class="keyword">UNIQUE</span> INDEX `logisticId` (`logisticId`)</span><br><span class="line">)</span><br><span class="line"><span class="keyword">COLLATE</span><span class="operator">=</span><span class="string">'utf8mb4_unicode_ci'</span></span><br><span class="line">ENGINE<span class="operator">=</span>InnoDB;</span><br></pre></td></tr></tbody></table></figure>

<h4 id="二、逆向工程生成"><a href="#二、逆向工程生成" class="headerlink" title="二、逆向工程生成"></a>二、逆向工程生成</h4><h5 id="2-1-pom-依赖配置"><a href="#2-1-pom-依赖配置" class="headerlink" title="2.1 pom 依赖配置"></a>2.1 pom 依赖配置</h5><p>在 pom.xml 依赖文件中增加 mybatis generator 插件依赖</p>
<figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.9.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.woodwhales.king<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>generate-mapper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">name</span>&gt;</span>generate-mapper<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">description</span>&gt;</span>king redis project for Spring Boot<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-autoconfigure<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">id</span>&gt;</span>Generate MyBatis Artifacts<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">							<span class="tag">&lt;<span class="name">goal</span>&gt;</span>generate<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">					<span class="comment">&lt;!--允许移动生成的文件 --&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">verbose</span>&gt;</span>true<span class="tag">&lt;/<span class="name">verbose</span>&gt;</span></span><br><span class="line">					<span class="comment">&lt;!-- 是否覆盖 --&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">overwrite</span>&gt;</span>true<span class="tag">&lt;/<span class="name">overwrite</span>&gt;</span></span><br><span class="line">					<span class="comment">&lt;!-- 自动生成的配置 --&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">configurationFile</span>&gt;</span>src/main/resources/generator/config.xml<span class="tag">&lt;/<span class="name">configurationFile</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://image.woodwhales.cn/015/images/1.png" alt="pom 依赖配置"></p>
<h5 id="2-2-配置映射文件"><a href="#2-2-配置映射文件" class="headerlink" title="2.2 配置映射文件"></a>2.2 配置映射文件</h5><p>在<code>&lt;configurationFile&gt;</code>配置的对应目录下，创建对应的逆向生成工程映射文件，并将下列配置粘贴到其中：</p>
<figure class="highlight xml"><figcaption><span>mybatis 逆向工程配置映射</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">generatorConfiguration</span></span></span><br><span class="line"><span class="meta">  <span class="keyword">PUBLIC</span> <span class="string">"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"</span></span></span><br><span class="line"><span class="meta">  <span class="string">"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--xml引入外部配置文件--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">"generator/init.properties"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">"Tables"</span>  <span class="attr">targetRuntime</span>=<span class="string">"MyBatis3"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--字符集必须指定，否则生成的文件会根据系统的字符集生成--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"javaFileEncoding"</span> <span class="attr">value</span>=<span class="string">"UTF-8"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 增加生成序列化等插件 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">type</span>=<span class="string">"org.mybatis.generator.plugins.SerializablePlugin"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">type</span>=<span class="string">"org.mybatis.generator.plugins.EqualsHashCodePlugin"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">type</span>=<span class="string">"org.mybatis.generator.plugins.ToStringPlugin"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suppressDate"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 是否[去除]自动生成的注释  true表示是，false表示否 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suppressAllComments"</span> <span class="attr">value</span>=<span class="string">"false"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 是否携带注释 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"addRemarkComments"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!--数据库链接URL、用户名、密码 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">"${jdbc.driverClass}"</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">connectionURL</span>=<span class="string">"${jdbc.connectionURL}"</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">userId</span>=<span class="string">"${jdbc.userId}"</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">password</span>=<span class="string">"${jdbc.password}"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">jdbcConnection</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">javaTypeResolver</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"forceBigDecimals"</span> <span class="attr">value</span>=<span class="string">"false"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaTypeResolver</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!-- 生成 model 和 example的包名和位置--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">"${javaModelGenerator.targetPackage}"</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">targetProject</span>=<span class="string">"${javaModelGenerator.targetProject}"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"enableSubPackages"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"trimStrings"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaModelGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!-- 生成 DAO 接口文件的包名和位置--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sqlMapGenerator</span> <span class="attr">targetPackage</span>=<span class="string">"${sqlMapGenerator.targetPackage}"</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">targetProject</span>=<span class="string">"${sqlMapGenerator.targetProject}"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"enableSubPackages"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">sqlMapGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!-- 生成XML映射文件的包名和位置--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">type</span>=<span class="string">"XMLMAPPER"</span> <span class="attr">targetPackage</span>=<span class="string">"${javaClientGenerator.targetPackage}"</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">targetProject</span>=<span class="string">"${javaClientGenerator.targetProject}"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"enableSubPackages"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaClientGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!-- 要生成的表 tableName是数据库中的表名或视图名 domainObjectName是实体类名--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">"${tableName}"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">enableCountByExample</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">enableDeleteByExample</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">enableSelectByExample</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">enableUpdateByExample</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">generatedKey</span> <span class="attr">column</span>=<span class="string">"id"</span> <span class="attr">sqlStatement</span>=<span class="string">"Mysql"</span> <span class="attr">identity</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h5 id="2-3-配置自定义配置文件"><a href="#2-3-配置自定义配置文件" class="headerlink" title="2.3 配置自定义配置文件"></a>2.3 配置自定义配置文件</h5><p>在映射文件配置中，可以看到：<code>&lt;properties&gt;</code>元素指定了<code>generator/mybatisGeneratorinit.properties</code>，因此需要创建对应的配置文件：</p>
<figure class="highlight properties"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Mybatis Generator configuration</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># JDBC config</span></span><br><span class="line"><span class="attr">jdbc.driverClass</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="comment">#jdbc.driverClass=com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">jdbc.connectionURL</span>=<span class="string">jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false&amp;serverTimezone=UTC</span></span><br><span class="line"><span class="attr">jdbc.userId</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">jdbc.password</span>=<span class="string">root</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#JavaBean location</span></span><br><span class="line"><span class="attr">javaModelGenerator.targetProject</span>=<span class="string">src/main/java</span></span><br><span class="line"><span class="attr">javaModelGenerator.targetPackage</span>=<span class="string">org.woodwhales.king.user.entity</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#interface location</span></span><br><span class="line"><span class="attr">javaClientGenerator.targetProject</span>=<span class="string">src/main/java</span></span><br><span class="line"><span class="attr">javaClientGenerator.targetPackage</span>=<span class="string">org.woodwhales.king.user.mapper</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">#mapping location</span></span><br><span class="line"><span class="attr">sqlMapGenerator.targetProject</span>=<span class="string">src/main/resources</span></span><br><span class="line"><span class="attr">sqlMapGenerator.targetPackage</span>=<span class="string">mapper.user</span></span><br><span class="line"></span><br><span class="line"><span class="attr">tableName</span>=<span class="string">hello</span></span><br></pre></td></tr></tbody></table></figure>

<p>注意：配置的目录需要提前手动创建出来。</p>
<h5 id="2-4-运行-mybatis-逆向工程"><a href="#2-4-运行-mybatis-逆向工程" class="headerlink" title="2.4 运行 mybatis 逆向工程"></a>2.4 运行 mybatis 逆向工程</h5><p>在项目根目录右击选择<code>"Show in"</code>中的<code>"Terminal"</code>选项，进入 dos 窗口，执行逆向生成命令：<code>mvn mybatis-generator:generate</code></p>
<p>项目生成之后，需要刷新项目。</p>
<h5 id="2-5-mapper-接口既映射文件注册配置"><a href="#2-5-mapper-接口既映射文件注册配置" class="headerlink" title="2.5 mapper 接口既映射文件注册配置"></a>2.5 mapper 接口既映射文件注册配置</h5><p>将 mapper 接口注册到 springboot 中，在要注册的类上增加<code>@Mapper</code>注解，或者使用包扫描的方式进行注册：在启动类上增加<code>@MapperScan(basePackages="org.woodwhale.demo.mapper")</code>，强烈推荐第二种。</p>
<p>将 mapper 映射的 xml 文件注册到 springboot：在<code>application.yml</code>配置文件中增加映射文件扫描：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mybatis:</span><br><span class="line">  mapper-locations: classpath:org/woodwhale/demo/mapper/*Mapper.xml</span><br></pre></td></tr></tbody></table></figure>

<h4 id="三、MyBatis-Generator-详解"><a href="#三、MyBatis-Generator-详解" class="headerlink" title="三、MyBatis Generator 详解"></a>三、MyBatis Generator 详解</h4><p>MyBatis Generator中文文档地址：<code>mbg.cndocs.ml</code></p>
<p>注：本文后面提到的<strong>MBG</strong>全部指代<code>MyBatis Generator</code>。</p>
<h5 id="3-1-XML-配置详解"><a href="#3-1-XML-配置详解" class="headerlink" title="3.1 XML 配置详解"></a>3.1 XML 配置详解</h5><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">generatorConfiguration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"</span></span></span><br><span class="line"><span class="meta">        <span class="string">"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd"</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h5 id="3-2-根节点"><a href="#3-2-根节点" class="headerlink" title="3.2 根节点"></a>3.2 根节点<generatorconfiguration></generatorconfiguration></h5><p><code>&lt;generatorConfiguration&gt;</code>节点没有任何属性，直接写节点即可，如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;generatorConfiguration&gt;</span><br><span class="line">    &lt;!-- 具体配置内容 --&gt;</span><br><span class="line">&lt;/generatorConfiguration&gt;</span><br></pre></td></tr></tbody></table></figure>

<p><code>&lt;generatorConfiguration&gt;</code>元素的子元素包含以下子元素（有严格的顺序）：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;properties&gt;（0 个或 1 个）</span><br><span class="line">&lt;classPathEntry&gt;（0 个或 1 个）</span><br><span class="line">&lt;context&gt;（1 个或多个）</span><br></pre></td></tr></tbody></table></figure>

<h4 id="四、元素"><a href="#四、元素" class="headerlink" title="四、元素"></a>四、<properties>元素</properties></h4><p>这个元素用来指定外部的属性元素，不是必须的元素。</p>
<p>元素用于指定一个需要在配置中解析使用的外部属性文件，引入属性文件后，可以在配置中使用<code>${property}</code>这种形式的引用，通过这种方式引用属性文件中的属性值，如配置<code>jdbc 信息</code>和<code>targetProject 属性</code>。</p>
<p>这个元素的属性可以通过<code>resource</code>或者<code>url</code>来指定属性文件的位置，这两个属性只能使用其中一个来指定，如果同时使用就会报错。</p>
<ul>
<li><code>resource</code>：指定 <strong>classpath</strong> 下的属性文件，使用类似<code>com/myproject/generatorConfig.properties</code>这样的属性值。</li>
<li><code>url</code>：可以指定文件系统上的特定位置，例如<code>file://C:/myfolder/generatorConfig.properties</code>。</li>
</ul>
<h4 id="五、元素"><a href="#五、元素" class="headerlink" title="五、元素"></a>五、<classpathentry>元素</classpathentry></h4><p>这个元素可以是 0 或多个。最常见的用法是通过这个属性指定驱动的路径，例如：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;classPathEntry location="C:\mysql-connector-java-5.1.42.jar"/&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>注意：如果你需要加载其他用途的 jar 包，<strong>classPathEntry 起不到作用</strong>，解决的办法就是将你用的 jar 包添加到类路径中，在 Eclipse 等 IDE 中运行的时候，添加jar包比较容易。当从命令行执行的时候，需要用<code>java -cp xx.jar,xx2.jar xxxMainClass</code>这种方式在<code>-cp</code>后面指定来使用（注意<code>-jar</code>会导致<code>-cp</code>无效）。</p>
<h4 id="六、元素"><a href="#六、元素" class="headerlink" title="六、元素"></a>六、<context>元素</context></h4><p>在 MBG 的配置中，至少需要有一个<code>&lt;context&gt;</code>元素。</p>
<p><code>&lt;context&gt;</code>元素用于指定生成一组对象的环境。例如指定要连接的数据库，要生成对象的类型和要处理的数据库中的表。运行MBG的时候还可以指定要运行的<code>&lt;context&gt;</code>。</p>
<p>该元素只有一个<strong>必选属性</strong>：</p>
<ul>
<li><code>id</code>：用来唯一确定一个<code>&lt;context&gt;</code>元素，该<code>id</code>属性可以在运行 MBG 的使用。</li>
</ul>
<p>此外还有几个<strong>可选属性</strong>：</p>
<ul>
<li><p><code>defaultModelType</code></p>
<p><strong>这个属性很重要</strong>，这个属性定义了 MBG 如何生成<strong>实体类</strong>。</p>
</li>
<li><p><code>conditional</code>：默认值，这个模型和下面的<code>hierarchical</code>类似，除了如果那个单独的类将只包含一个字段，将不会生成一个单独的类。 因此，如果一个表的主键只有一个字段，那么不会为该字段生成单独的实体类，会将该字段合并到基本实体类中。</p>
</li>
<li><p><code>flat</code>：该模型为每一张表只生成一个实体类。这个实体类包含表中的所有字段。<strong>这种模型最简单，推荐使用。</strong></p>
</li>
<li><p><code>hierarchical</code>：如果表有主键，那么该模型会产生一个单独的主键实体类，如果表还有 BLOB 字段，则会为表生成一个包含所有 BLOB 字段的单独的实体类，然后为所有其他的字段生成一个单独的实体类。MBG 会在所有生成的实体类之间维护一个继承关系。</p>
</li>
<li><p><code>targetRuntime</code>：此属性用于指定生成的代码的运行时环境。该属性支持以下可选值：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MyBatis3：默认值</span><br><span class="line">MyBatis3Simple</span><br><span class="line">Ibatis2Java2</span><br><span class="line">Ibatis2Java5：一般情况下使用默认值即可，有关这些值的具体作用以及区别请查看中文文档的详细内容。</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p><code>introspectedColumnImpl</code>：该参数可以指定扩展<code>org.mybatis.generator.api.IntrospectedColumn</code>该类的实现类。该属性的作用可以查看扩展 MyBatis Generator。</p>
</li>
</ul>
<blockquote>
<p>扩展 MyBatis Generator：<br><code> http://mbg.cndocs.ml/reference/extending.html</code></p>
</blockquote>
<p>一般情况下，我们使用如下的配置即可：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;context id="Mysql" defaultModelType="flat"&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>如果你希望不生成和<code>Example</code>查询有关的内容，那么可以按照如下进行配置：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;context id="Mysql" targetRuntime="MyBatis3Simple" defaultModelType="flat"&gt;</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>注意：使用<code>MyBatis3Simple</code>可以避免在后面的<code>&lt;table&gt;</code>中逐个进行配置（后面会提到）。</p>
</blockquote>
<p><strong><context>元素的子元素</context></strong></p>
<p>MBG 配置中的其他几个元素，基本上都是<code>&lt;context&gt;</code>的子元素，这些子元素（<strong>有严格的配置顺序</strong>）包括：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;（0 个或多个）</span><br><span class="line">&lt;plugin&gt;（0 个或多个）</span><br><span class="line">&lt;commentGenerator&gt;（0 个或 1 个）</span><br><span class="line">&lt;jdbcConnection&gt;（1 个）</span><br><span class="line">&lt;javaTypeResolver&gt;（0 个或 1 个）</span><br><span class="line">&lt;javaModelGenerator&gt;（1 个）</span><br><span class="line">&lt;sqlMapGenerator&gt;（0 个或 1 个）</span><br><span class="line">&lt;javaClientGenerator&gt;（0 个或 1 个）</span><br><span class="line">&lt;table&gt;（1 个或多个）</span><br></pre></td></tr></tbody></table></figure>

<h5 id="6-1-属性"><a href="#6-1-属性" class="headerlink" title="6.1 属性"></a>6.1 <property>属性</property></h5><p><code>&lt;property&gt;</code>属性比较特殊，后面讲解的时候都会和父元素一起进行讲解。</p>
<blockquote>
<p>在讲解<code>&lt;property&gt;</code>属性前，我们先看看一个重要的概念：<strong>分隔符</strong></p>
<p>这里通过一个例子说明。假设在 Mysql 数据库中有一个表名为<code>user info</code>，你没有看错，中间是一个空格，这种情况下如果写出<code>select * from user info</code>这样的语句，肯定是要报错的，在 Mysql 中的时候我们一般会写成如下的样子：</p>
<p>select * from `user info`</p>
<p>这里的使用的<strong>反单引号( ` )<strong>就是</strong>分隔符</strong>，<strong>分隔符</strong>可以用于<strong>表名</strong>或者<strong>列名</strong>。</p>
</blockquote>
<p>下面继续看<code>&lt;property&gt;</code>支持的属性：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">autoDelimitKeywords</span><br><span class="line">beginningDelimiter</span><br><span class="line">endingDelimiter</span><br><span class="line">javaFileEncoding</span><br><span class="line">javaFormatter</span><br><span class="line">xmlFormatter</span><br></pre></td></tr></tbody></table></figure>

<p>首先是<code>autoDelimitKeywords</code>，当表名或者字段名为 SQL 关键字的时候，可以设置该属性为 true，MBG 会自动给表名或字段名添加<strong>分隔符</strong>。</p>
<p>由于<code>beginningDelimiter</code>和<code>endingDelimiter</code>的默认值为双引号（”），在 Mysql 中不能这么写，所以还要将这两个默认值改为反单引号（`），配置如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;property name="beginningDelimiter" value="`"/&gt;</span><br><span class="line">&lt;property name="endingDelimiter" value="`"/&gt; </span><br></pre></td></tr></tbody></table></figure>

<p>属性<code>javaFileEncoding</code>设置要使用的 Java 文件的编码，默认使用当前平台的编码，只有当生产的编码需要特殊指定时才需要使用，一般用不到。</p>
<p>最后两个<code>javaFormatter</code>和<code>xmlFormatter</code>属性<strong>可能会</strong>很有用，如果你想使用模板来定制生成的 Java 文件和 xml 文件的样式，你可以通过指定这两个属性的值来实现。</p>
<p>接下来分节对其他的子元素逐个进行介绍。</p>
<h5 id="6-2-元素"><a href="#6-2-元素" class="headerlink" title="6.2 元素"></a>6.2 <plugin>元素</plugin></h5><p>该元素可以配置 0 个或者多个。<code>&lt;plugin&gt;</code>元素用来定义一个插件。插件用于扩展或修改通过 MyBatis Generator (MBG) 代码生成器生成的代码。插件将按在配置中配置的顺序执行。</p>
<blockquote>
<p>有关插件的详细信息可以参考开发插件和提供的插件了解更多。<br>开发插件：<code>http://mbg.cndocs.ml/reference/pluggingIn.html</code><br>提供的插件：<code>http://mbg.cndocs.ml/reference/plugins.html</code></p>
</blockquote>
<h5 id="6-3-元素"><a href="#6-3-元素" class="headerlink" title="6.3 元素"></a>6.3 <commentgenerator>元素</commentgenerator></h5><p>该元素最多可以配置1个。这个元素非常有用，相信很多人都有过这样的需求，就是希望 MBG 生成的代码中可以包含<strong>注释信息</strong>，具体就是生成表或字段的备注信息。</p>
<p>使用这个元素就能很简单的实现我们想要的功能。这里先介绍该元素，介绍完后会举例如何扩展实现该功能。</p>
<p>该元素有一个可选属性 type，可以指定用户的实现类，该类需要实现<code>org.mybatis.generator.api.CommentGenerator</code>接口。而且必有一个默认的构造方法。这个属性接收默认的特殊值 DEFAULT，会使用默认的实现类<code>org.mybatis.generator.internal.DefaultCommentGenerator</code>。</p>
<p>默认的实现类中提供了两个可选属性，需要通过<code>&lt;property&gt;</code>属性进行配置。</p>
<p><code>suppressAllComments</code>：<strong>阻止</strong>生成注释，默认为 false</p>
<p><code>suppressDate</code>：<strong>阻止</strong>生成的注释包含时间戳，默认为 false</p>
<p>一般情况下由于 MBG 生成的注释信息没有任何价值，而且有时间戳的情况下每次生成的注释都不一样，使用<strong>版本控制</strong>的时候每次都会提交，因而一般情况下我们都会屏蔽注释信息，可以如下配置：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;commentGenerator&gt;</span><br><span class="line">    &lt;property name="suppressAllComments" value="true"/&gt;</span><br><span class="line">    &lt;property name="suppressDate" value="true"/&gt;</span><br><span class="line">&lt;/commentGenerator&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>接下来我们简单举例实现生成包含表字段注释信息的注释：</p>
<p>因为系统提供了一个默认的实现类，所以对我们来说，自己实现一个会很容易，最简单的方法就是复制默认实现类代码到一个新的文件中，修改类名如<code>MyCommentGenerator</code>，在你自己的实现类中，你可以选择是否继续支持上面的两个属性，你还可以增加对其他属性的支持。</p>
<p>我们通过下面一个方法的修改来了解，其他几个方法请自行修改(写本章的时候我也没有完全实现该类，所以不提供完整源码了)：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addFieldComment</span><span class="params">(Field field, IntrospectedTable introspectedTable, IntrospectedColumn introspectedColumn)</span> {</span><br><span class="line">    <span class="keyword">if</span> (introspectedColumn.getRemarks() != <span class="literal">null</span> &amp;&amp; !introspectedColumn.getRemarks().equals(<span class="string">""</span>)) {</span><br><span class="line">        field.addJavaDocLine(<span class="string">"/**"</span>);</span><br><span class="line">        field.addJavaDocLine(<span class="string">" * "</span> + introspectedColumn.getRemarks());</span><br><span class="line">        addJavadocTag(field, <span class="literal">false</span>);</span><br><span class="line">        field.addJavaDocLine(<span class="string">" */"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>这个方法是给字段添加注释信息的，其中<code>IntrospectedColumn</code>包含了字段的完整信息，通过<code>getRemarks</code>方法可以获取字段的注释信息。上面这个方法修改起来还是很容易的。除了字段的注释外还有 Getter 和 Setter，以及类的注释。此外还有生成 XML 的注释，大家可以根据默认的实现进行修改。</p>
<p>完成我们自己的实现类后，我们还需要做<code>&lt;commentGenerator&gt;</code>元素配置：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;commentGenerator type="com.github.abel533.mybatis.generator.MyCommentGenerator"/&gt;</span><br></pre></td></tr></tbody></table></figure>

<h5 id="6-4-元素"><a href="#6-4-元素" class="headerlink" title="6.4 元素"></a>6.4 <jdbcconnection>元素</jdbcconnection></h5><p><code>&lt;jdbcConnection&gt;</code>用于指定数据库连接信息，<strong>该元素必选，且只能有一个</strong>。</p>
<p>配置该元素只需要注意如果 JDBC 驱动不在 classpath 下，就需要通过<code>&lt;classPathEntry&gt;</code>元素引入 jar 包，这里推荐将 jar 包放到 classpath 下。</p>
<p>该元素<strong>有两个必选属性</strong>：</p>
<ul>
<li><code>driverClass</code>：访问数据库的 JDBC 驱动程序的完全限定类名</li>
<li><code>connectionURL</code>：访问数据库的 JDBC 连接 URL</li>
</ul>
<p>该元素还有<strong>两个可选属性</strong>:</p>
<ul>
<li><code>userId</code>：访问数据库的用户 ID</li>
<li><code>password</code>：访问数据库的密码</li>
</ul>
<p>此外该元素还可以接受多个<code>&lt;property&gt;</code>子元素，这里配置的<code>&lt;property&gt;</code>属性都会添加到 JDBC 驱动的属性中。</p>
<p>这个元素配置起来最容易，这里举个简单例子：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;jdbcConnection driverClass="com.mysql.jdbc.Driver"</span><br><span class="line">                connectionURL="jdbc:mysql://localhost:3306/test"</span><br><span class="line">                userId="root"</span><br><span class="line">                password="root"&gt;</span><br><span class="line">&lt;/jdbcConnection&gt;</span><br></pre></td></tr></tbody></table></figure>

<h5 id="6-5-元素"><a href="#6-5-元素" class="headerlink" title="6.5 元素"></a>6.5 <javatyperesolver>元素</javatyperesolver></h5><p>该元素最多可以配置一个。这个元素的配置用来指定 JDBC 类型和 Java 类型如何转换。</p>
<p>该元素提供了一个可选的属<code>type</code>和<code>&lt;commentGenerator&gt;</code>比较类型，提供了默认的实现 DEFAULT，一般情况下使用默认即可，需要特殊处理的情况可以通过其他元素配置来解决，不建议修改该属性。</p>
<p>该属性还有一个可以配置的<code>&lt;property&gt;</code>元素。</p>
<p>可以配置的属性为<code>forceBigDecimals</code>，该属性可以控制是否强制 DECIMAL 和 NUMERIC 类型的字段转换为 Java 类型的<code>java.math.BigDecimal</code>，默认值为 false，一般不需要配置。</p>
<p>默认情况下的转换规则为：</p>
<p>如果精度 &gt; 0 或者长度 &gt; 18，就会使用<code>java.math.BigDecimal</code><br>如果精度 = 0 并且 10 &lt;= 长度 &lt;= 18，就会使用<code>java.lang.Long</code><br>如果精度 = 0 并且5 &lt;= 长度 &lt;= 9，就会使用<code>java.lang.Integer</code><br>如果精度 = 0 并且 长度 &lt; 5，就会使用<code>java.lang.Short</code></p>
<p>如果设置为 true，那么一定会使用<code>java.math.BigDecimal</code>，</p>
<p><code>&lt;javaTypeResolver&gt;</code>元素配置示例：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;javaTypeResolver &gt;</span><br><span class="line">    &lt;property name="forceBigDecimals" value="true" /&gt;</span><br><span class="line">&lt;/javaTypeResolver&gt;</span><br></pre></td></tr></tbody></table></figure>

<h5 id="6-6-元素"><a href="#6-6-元素" class="headerlink" title="6.6 元素"></a>6.6 <javamodelgenerator>元素</javamodelgenerator></h5><p>该元素必须配置一个，并且最多一个。该元素用来控制生成的实体类，根据<code>&lt;context&gt;</code>中配置的<code>defaultModelType</code>，一个表可能会对应生成多个不同的实体类。一个表对应多个类实际上并不方便，所以前面也推荐使用 flat，这种情况下一个表对应一个实体类。</p>
<p>该元素只有<strong>两个必选属性</strong>：</p>
<ul>
<li><code>targetPackage</code>：生成实体类存放的包名，一般就是放在该包下。实际还会受到其他配置的影响（ 中会提到）。<li><code>targetProject</code>：指定目标项目路径，可以是绝对路径或相对路径（如<code>targetProject="src/main/java"</code>）。</li><p>该元素支持以下几个**<property>子元素属性**：</property></p><ul>
<li><p><code>constructorBased</code>：该属性只对 MyBatis3 有效，如果 true 就会使用构造方法入参，如果 false 就会使用 setter方式。默认为 false。</p>
</li>
<li><p><code>enableSubPackages</code>：如果 true，MBG 会根据 catalog 和 schema 来生成子包。如果 false 就会直接用 targetPackage 属性。默认为false。</p>
</li>
<li><p><code>immutable</code>：该属性用来配置实体类属性是否可变，如果设置为 true，那么 constructorBased 不管设置成什么，都会使用构造方法入参，并且不会生成 setter 方法。如果为 false，实体类属性就可以改变。默认为 false。</p>
</li>
<li><p><code>rootClass</code>：设置所有实体类的基类。如果设置，需要使用类的全限定名称。并且如果 MBG 能够加载rootClass，那么 MBG 不会覆盖和父类中完全匹配的属性。匹配规则：</p>
<figure class="highlight plaintext"></figure></li></ul><table>



</table><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">属性名完全相同</span><br><span class="line">属性类型相同</span><br><span class="line">属性有getter方法</span><br><span class="line">属性有setter方法</span><br></pre></td></tr></tbody></table>
</li>
<li><p><code>trimStrings</code>：是否对数据库查询结果进行 trim 操作，如果设置为 true 就会生成类似这样</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public void setUsername(String username) {</span><br><span class="line">  this.username = username == null ? null : username.trim();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>的 setter 方法。默认值为 false。</p>
</li>
</ul>
<p><code>&lt;javaModelGenerator&gt;</code>元素配置示例：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;javaModelGenerator targetPackage="test.model" targetProject="src\main\java"&gt;</span><br><span class="line">    &lt;property name="enableSubPackages" value="true" /&gt;</span><br><span class="line">    &lt;property name="trimStrings" value="true" /&gt;</span><br><span class="line">&lt;/javaModelGenerator&gt;</span><br></pre></td></tr></tbody></table></figure>

<h5 id="6-7-元素"><a href="#6-7-元素" class="headerlink" title="6.7 元素"></a>6.7 <sqlmapgenerator>元素</sqlmapgenerator></h5><p>该元素可选，最多配置一个。但是有如下两种必选的特殊情况：</p>
<ul>
<li>如果<code>targetRuntime</code>目标是 <strong>iBATIS2</strong>，该元素必须配置一个。如果<code>targetRuntime</code>目标是 <strong>MyBatis3</strong>，只有当<code>&lt;javaClientGenerator&gt;</code>需要XML时，该元素必须配置一个。</li>
<li>如果没有配置 <javaclientgenerator>，则使用以下的规则：<br>如果指定了一个 <sqlmapgenerator>，那么 MBG 将只生成 XML 的 SQL 映射文件和实体类。如果没有指定 <sqlmapgenerator>，那么 MBG 将只生成实体类。</sqlmapgenerator></sqlmapgenerator></javaclientgenerator></li>
</ul>
<p>该元素只有<strong>两个必选属性</strong>（和前面提过的<code>&lt;javaModelGenerator&gt;</code>的属性含义一样）：</p>
<ul>
<li><code>targetPackage</code>：生成实体类存放的包名，一般就是放在该包下。实际还会受到其他配置的影响(中会提到)。<li><code>targetProject</code>：指定目标项目路径，可以是绝对路径或相对路径（如：<code>targetProject="src/main/resources"</code>）。</li><p>该元素支持<code>&lt;property&gt;</code>子元素，只有一个可以配置的属性：</p><ul>
<li><code>enableSubPackages</code>：如果 true，MBG 会根据 catalog 和 schema 来生成子包。如果 false 就会直接用 targetPackage 属性。默认为 false。</li>
</ul><p><code>&lt;sqlMapGenerator&gt;</code>元素配置示例：</p><figure class="highlight plaintext"></figure><table>





</table><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;sqlMapGenerator targetPackage="test.xml"  targetProject="src\main\resources"&gt;</span><br><span class="line">    &lt;property name="enableSubPackages" value="true" /&gt;</span><br><span class="line">&lt;/sqlMapGenerator&gt;</span><br></pre></td></tr></tbody></table>

<h5 id="6-8-元素"><a href="#6-8-元素" class="headerlink" title="6.8 元素"></a>6.8 <javaclientgenerator>元素</javaclientgenerator></h5><p>该元素可选，最多配置一个，如果不配置该元素，就不会生成 Mapper 接口。</p>
<p>该元素有 <strong>3 个必选属性</strong>：</p>
<ol>
<li><p><code>type</code>：该属性用于选择一个预定义的客户端代码（可以理解为 Mapper 接口）生成器，用户可以自定义实现，需要继承<code>org.mybatis.generator.codegen.AbstractJavaClientGenerator</code>类，必选有一个默认的构造方法。 该属性提供了以下预定的代码生成器，首先根据<code>&lt;context&gt;</code>的 targetRuntime 分成三类：</p>
<p><strong>1. MyBatis3类：</strong><br><code>ANNOTATEDMAPPER</code>：基于注解的 Mapper 接口，不会有对应的 XML 映射文件。<br><code>MIXEDMAPPER</code>：XML 和注解的混合形式，（上面这种情况中的）SqlProvider 注解方法会被 XML 替代。<br><code>XMLMAPPER</code>：所有的方法都在 XML 中，接口调用依赖 XML 文件。</p>
<p><strong>2. MyBatis3Simple类：</strong><br><code>ANNOTATEDMAPPER</code>：基于注解的 Mapper 接口，不会有对应的 XML 映射文件。<br><code>XMLMAPPER</code>：所有的方法都在 XML 中，接口调用依赖 XML 文件。</p>
<p><strong>3. Ibatis2Java2或Ibatis2Java5类：</strong><br><code>IBATIS</code>：生成的对象符合iBATIS的DAO框架（不建议使用）。<br><code>GENERIC-CI</code>：生成的对象将只依赖于SqlMapClient，通过构造方法注入。<br><code>GENERIC-SI</code>：生成的对象将只依赖于SqlMapClient，通过setter方法注入。<br><code>SPRING</code>：生成的对象符合Spring的DAO接口。</p>
</li>
<li><p><code>targetPackage</code>：生成实体类存放的包名，一般就是放在该包下。实际还会受到其他配置的影响（中会提到）。<p></p><li><p><code>targetProject</code>：指定目标项目路径，可以是绝对路径或相对路径（如：<code>targetProject="src/main/java"</code>）。</p>
</li><p>该元素还有<strong>一个可选属性</strong>：</p><ul>
<li><p><code>implementationPackage</code>：如果指定了该属性，实现类就会生成在这个包中。</p>
<p>该元素支持<code>&lt;property&gt;</code>子元素设置的属性：</p>
<figure class="highlight plaintext"></figure></li></ul><table>




</table><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">enableSubPackages</span><br><span class="line">exampleMethodVisibility</span><br><span class="line">methodNameCalculator</span><br><span class="line">rootInterface</span><br><span class="line">useLegacyBuilder</span><br></pre></td></tr></tbody></table></p></li>
</ol></li></ul>
<p>这几个<code>&lt;property&gt;</code>子元素属性不太常用，具体作用请看完整的文档，这里对<code>rootInterface</code>做个简单介绍：</p>
<ul>
<li><code>rootInterface</code>：用于指定一个所有生成的接口都继承的父接口。 这个值可以通过<code>&amp;lt;table\&amp;gt;</code>配置的<code>rootInterface</code>属性覆盖。这个属性对于通用 Mapper 来说，可以让生成的所有接口都继承该接口。</li>
</ul>
<p><code>&lt;javaClientGenerator&gt;</code>元素配置示例：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;javaClientGenerator type="XMLMAPPER" targetPackage="test.dao" targetProject="src\main\java"/&gt;</span><br></pre></td></tr></tbody></table></figure>

<h5 id="6-9-元素"><a href="#6-9-元素" class="headerlink" title="6.9 元素"></a>6.9 元素<p>该元素至少要配置一个。该元素用来配置要通过内省的表。只有配置的才会生成实体类和其他文件。</p><p>该元素有一个<strong>必选属性</strong>：</p><ul>
<li><p><code>tableName</code>：指定要生成的表名，可以使用 SQL 通配符匹配多个表。</p>
<p>例如要生成全部的表，可以按如下配置：<code>&lt;table tableName="%" /&gt;</code></p>
</li>
</ul><p>该元素包含多个<strong>可选属性</strong>：</p><ul>
<li><code>schema</code>：数据库的 schema，可以使用 SQL 通配符匹配。如果设置了该值，生成 SQL 的表名会变成如 schema.tableName 的形式。</li>
<li><code>catalog</code>：数据库的 catalog，如果设置了该值，生成 SQL 的表名会变成如 catalog.tableName 的形式。</li>
<li><code>alias</code>：如果指定，这个值会用在生成的 select 查询 SQL 的表的别名和列名上。 列名会被别名为 alias_actualColumnName（别名_实际列名）这种模式。</li>
<li><code>domainObjectName</code>：生成对象的基本名称。如果没有指定，MBG 会自动根据表名来生成名称。</li>
<li><code>enableXXX</code>：XXX 代表多种 SQL 方法，该属性用来指定是否生成对应的 XXX 语句。</li>
<li><code>selectByPrimaryKeyQueryId</code>：DBA 跟踪工具会用到，具体请看详细文档。</li>
<li><code>selectByExampleQueryId</code>：DBA 跟踪工具会用到，具体请看详细文档。</li>
<li><code>modelType</code>：和<code>&lt;context&gt;</code>的<code>defaultModelType</code>含义一样，这里可以针对表进行配置，这里的配置会覆盖<code>&lt;context&gt;</code>的<code>defaultModelType</code>配置。</li>
<li><code>escapeWildcards</code>：这个属性表示当查询列，是否对 schema 和表名中的 SQL 通配符 （’_’ and ‘%’）进行转义。 对于某些驱动当 schema 或表名中包含 SQL 通配符时（例如，一个表名是 MY_TABLE，有一些驱动需要将下划线进行转义）是必须的。默认值是 false。</li>
<li><code>delimitIdentifiers</code>：是否给标识符增加<strong>分隔符</strong>。默认 false。当 catalog，schema 或 tableName 中包含空白时，默认为true。</li>
<li><code>delimitAllColumns</code>：是否对所有列添加<strong>分隔符</strong>。默认 false。</li>
</ul><p>该元素包含多个可用的<code>&lt;property&gt;</code>子元素，<strong>可选属性</strong>为：</p><ul>
<li><code>constructorBased</code>：和<javamodelgenerator>中的属性含义一样。</javamodelgenerator></li>
<li><code>ignoreQualifiersAtRuntime</code>：生成的 SQL 中的表名将不会包含 schema 和 catalog 前缀。</li>
<li><code>immutable</code>：和<javamodelgenerator>中的属性含义一样。</javamodelgenerator></li>
<li><code>modelOnly</code>：此属性用于配置是否为表只生成实体类。如果设置为 true 就不会有 Mapper 接口。如果配置了<sqlmapgenerator>，并且 modelOnly 为 true，那么 XML 映射文件中只有实体对象的映射元素（ <resultmap>）。如果为 true 还会覆盖属性中的 enableXXX 方法，将不会生成任何 CRUD 方法。</resultmap></sqlmapgenerator></li>
<li><code>rootClass</code>：和<javamodelgenerator>中的属性含义一样。</javamodelgenerator></li>
<li><code>rootInterface</code>：和<javaclientgenerator>中的属性含义一样。</javaclientgenerator></li>
<li><code>runtimeCatalog</code>：运行时的 catalog，当生成表和运行环境的表的 catalog 不一样的时候可以使用该属性进行配置。</li>
<li><code>runtimeSchema</code>：运行时的 schema，当生成表和运行环境的表的 schema 不一样的时候可以使用该属性进行配置。</li>
<li><code>runtimeTableName</code>：运行时的 tableName，当生成表和运行环境的表的 tableName 不一样的时候可以使用该属性进行配置。</li>
<li><code>selectAllOrderByClause</code>：该属性值会追加到 selectAll 方法后的 SQL 中，会直接跟 order by 拼接后添加到 SQL 末尾。</li>
<li><code>useActualColumnNames</code>：如果设置为 true，那么 MBG 会使用从数据库元数据获取的列名作为生成的实体对象的属性。 如果为 false（默认值），MGB 将会尝试将返回的名称转换为驼峰形式。 在这两种情况下，可以通过 元素显示指定，在这种情况下将会忽略这个（useActualColumnNames）属性。</li>
<li><code>useColumnIndexes</code>：如果是 true，MBG 生成 resultMaps 的时候会使用列的索引,而不是结果中列名的顺序。</li>
<li><code>useCompoundPropertyNames</code>：如果是 true，那么 MBG 生成属性名的时候会将列名和列备注接起来。这对于那些通过第四代语言自动生成列（例如：FLD22237），但是备注包含有用信息（例如：”customer id”）的数据库来说很有用。在这种情况下，MBG 会生成属性名 FLD2237_CustomerId。</li>
</ul><h5 id="6-10-子元素"><a href="#6-10-子元素" class="headerlink" title="6.10 子元素"></a>6.10 </h5><table>






</table><p>除了<code>&lt;property&gt;</code>子元素外，<code>&lt;table&gt;</code>还包含以下子元素：</p><figure class="highlight plaintext"></figure><table>
</table>子元素<table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;generatedKey&gt; (0 个或 1 个)</span><br><span class="line">&lt;columnRenamingRule&gt; (0 个或 1 个)</span><br><span class="line">&lt;columnOverride&gt; (0 个或多个)</span><br><span class="line">&lt;ignoreColumn&gt; (0 个或多个)</span><br></pre></td></tr></tbody></table>

<p>下面对这 4 个元素进行详细讲解。</p>
<p><strong>6.10.1 <generatedkey> 元素</generatedkey></strong></p>
<p>这个元素最多可以配置一个。这个元素用来指定自动生成主键的属性（identity 字段或者 sequences 序列）。如果指定这个元素，MBG 在生成 insert 的 SQL 映射文件中插入一个<code>&lt;selectKey&gt;</code>元素。 这个元素非常重要。</p>
<p>这个元素包含下面<strong>两个必选属性</strong>：</p>
<ul>
<li><p><code>column</code>：生成列的列名。</p>
</li>
<li><p><code>sqlStatement</code>：将返回新值的 SQL 语句。如果这是一个 identity 列，您可以使用其中一个预定义的的特殊值。预定义值如下：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Cloudscape</span><br><span class="line">DB2</span><br><span class="line">DB2_MF</span><br><span class="line">Derby</span><br><span class="line">HSQLDB</span><br><span class="line">Informix</span><br><span class="line">MySql</span><br><span class="line">SqlServer</span><br><span class="line">SYBASE</span><br><span class="line">JDBC</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<blockquote>
<p>JDBC：这会配置 MBG 使用 MyBatis3 支持的 JDBC 标准的生成 key 来生成代码。 这是一个独立于数据库获取标识列中的值的方法。</p>
<p>重要：只有当目标运行为 MyBatis3 时才会产生正确的代码。如果与 iBATIS2 一起使用目标运行时会产生运行时错误的代码。</p>
</blockquote>
<p>这个元素还包含<strong>两个可选属性</strong>：</p>
<ul>
<li><code>identity</code>：当设置为true时,该列会被标记 为identity 列， 并且<code>&lt;selectKey&gt;</code>元素会被插入在 insert 后面。 当设置为false时，<code>&lt;selectKey&gt;</code>会插入到 insert 之前（通常是序列）。<strong>重要</strong>：即使您 type 属性指定为 post，您仍然需要为 identity 列将该参数设置为 true。 这将标志 MBG 从插入列表中删除该列。默认值是 false。</li>
<li><code>type</code>：type = post and identity = true 的时候生成的<code>中的 order=AFTER，当 type=pre 的时候，identity 只能为 false，生成的</code>中的 order = BEFORE。可以这么理解，自动增长的列只有插入到数据库后才能得到 ID，所以是 AFTER，使用序列时，只有先获取序列之后，才能插入数据库，所以是：BEFORE。</li>
</ul>
&nbsp;元素配置示例一：

<figure class="highlight plaintext"></figure><table></table><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;table tableName="user login info" domainObjectName="UserLoginInfo"&gt;</span><br><span class="line">    &lt;generatedKey column="id" sqlStatement="Mysql"/&gt;</span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></tbody></table>

<p>对应的生成的结果：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;insert id="insert" parameterType="test.model.UserLoginInfo"&gt;</span><br><span class="line">    &lt;selectKey keyProperty="id" order="AFTER" resultType="java.lang.Integer"&gt;</span><br><span class="line">        SELECT LAST_INSERT_ID()</span><br><span class="line">    &lt;/selectKey&gt;</span><br><span class="line">    insert into `user login info` (Id, username, logindate, loginip)</span><br><span class="line">    values (#{id,jdbcType=INTEGER}, #{username,jdbcType=VARCHAR}, #{logindate,jdbcType=TIMESTAMP}, #{loginip,jdbcType=VARCHAR})</span><br><span class="line">&lt;/insert&gt;</span><br></pre></td></tr></tbody></table></figure>

&nbsp;元素配置示例二：

<figure class="highlight plaintext"></figure><table></table><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;table tableName="user login info" domainObjectName="UserLoginInfo"&gt;</span><br><span class="line">    &lt;generatedKey column="id" sqlStatement="select SEQ_ID.nextval from dual"/&gt;</span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></tbody></table>

<p>对应的生成结果：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;insert id="insert" parameterType="test.model.UserLoginInfo"&gt;</span><br><span class="line">    &lt;selectKey keyProperty="id" order="BEFORE" resultType="java.lang.Integer"&gt;</span><br><span class="line">        select SEQ_ID.nextval from dual</span><br><span class="line">    &lt;/selectKey&gt;</span><br><span class="line">    insert into `user login info` (Id, username, logindate, loginip)</span><br><span class="line">    values (#{id,jdbcType=INTEGER}, #{username,jdbcType=VARCHAR}, #{logindate,jdbcType=TIMESTAMP},#{loginip,jdbcType=VARCHAR})</span><br><span class="line">&lt;/insert&gt;</span><br></pre></td></tr></tbody></table></figure>

<p><strong>6.10.2 <columnrenamingrule> 元素</columnrenamingrule></strong></p>
<p>该元素最多可以配置一个，使用该元素可以在生成列之前，对列进行重命名。这对那些存在同一前缀的字段想在生成属性名时去除前缀的表非常有用。 例如假设一个表包含以下的列：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CUST_BUSINESS_NAME</span><br><span class="line">CUST_STREET_ADDRESS</span><br><span class="line">CUST_CITY</span><br><span class="line">CUST_STATE</span><br></pre></td></tr></tbody></table></figure>

<p>生成的所有属性名中如果都包含<code>CUST</code>的前缀可能会让人不爽。这些前缀可以通过如下方式定义重命名规则:</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;columnRenamingRule searchString="^CUST_" replaceString="" /&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>注意：在内部，MBG 使用<code>java.util.regex.Matcher.replaceAll</code>方法实现这个功能。请参阅有关该方法的文档和在 Java 中使用正则表达式的例子。</p>
<p>当<code>&lt;columnOverride&gt;</code>匹配一列时，这个元素（<code>&lt;columnRenamingRule&gt;</code>）会被忽略。<code>&lt;columnOverride&gt;</code>优先于重命名的规则。</p>
<p>该元素有一个<strong>必选属性</strong>：</p>
<ul>
<li><code>searchString</code>：定义将被替换的字符串的正则表达式。</li>
</ul>
<p>该元素有一个<strong>可选属性</strong>：</p>
<ul>
<li><code>replaceString</code>：这是一个用来替换搜索字符串列每一个匹配项的字符串。如果没有指定，就会使用空字符串。</li>
</ul>
<blockquote>
<p>关于<code>&lt;table&gt;</code>的<code>&lt;property&gt;</code>属性<code>useActualColumnNames</code>对此的影响可以查看完整文档。</p>
</blockquote>
<p><strong>6.10.3 <columnoverride> 元素</columnoverride></strong></p>
<p>该元素可选，可以配置多个。该元素从将某些属性默认计算的值更改为指定的值。</p>
<p>该元素有一个<strong>必选属性</strong>：</p>
<ul>
<li><code>column</code>：要重写的列名。</li>
</ul>
<p>该元素有多个<strong>可选属性</strong>：</p>
<ul>
<li><code>property</code>：要使用的 Java 属性的名称。如果没有指定，MBG 会根据列名生成。 例如，如果一个表的一列名为STRT_DTE，MBG会根据  的 useActualColumnNames 属性生成 STRT_DTE 或 strtDte。<li><code>javaType</code>：该列属性值为完全限定的 Java 类型。如果需要，这可以覆盖由JavaTypeResolver计算出的类型。 对某些数据库来说，这是必要的用来处理<strong>“奇怪的”</strong>数据库类型（例如 MySql 的 unsigned bigint 类型需要映射为<code>java.lang.Object</code>)。</li><li><code>jdbcType</code>：该列的 JDBC 类型（INTEGER, DECIMAL, NUMERIC, VARCHAR 等等）。 如果需要，这可以覆盖由 JavaTypeResolver 计算出的类型。 对某些数据库来说，这是必要的用来处理怪异的 JDBC 驱动 (例如 DB2 的LONGVARCHAR 类型需要为 iBATIS 映射为 VARCHAR)。</li><li><code>typeHandler</code>：用户定义的需要用来处理这列的类型处理器。它必须是一个继承 iBATIS 的 TypeHandler 类或 TypeHandlerCallback 接口（该接口很容易继承）的全限定的类名。如果没有指定或者是空白，iBATIS会用默认的类型处理器来处理类型。<strong>重要</strong>：MBG 不会校验这个类型处理器是否存在或者可用。 MGB 只是简单的将这个值插入到生成的 SQL 映射的配置文件中。</li><li><code>delimitedColumnName</code>：指定是否应在生成的 SQL 的列名称上增加<strong>分隔符</strong>。 如果列的名称中包含空格，MGB 会自动添加<strong>分隔符</strong>， 所以这个重写只有当列名需要强制为一个合适的名字或者列名是数据库中的保留字时是必要的。</li><p><code>&lt;columnOverride&gt;</code> 元素配置示例：</p><figure class="highlight plaintext"></figure><table>






</table><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;table schema="DB2ADMIN" tableName="ALLTYPES" &gt;</span><br><span class="line">    &lt;columnOverride column="LONG_VARCHAR_FIELD" javaType="java.lang.String" jdbcType="VARCHAR" /&gt;</span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></tbody></table>

<p><strong>6.10.4 <ignorecolumn> 元素</ignorecolumn></strong></p>
<p>该元素可选，可以配置多个。该元素可以用来屏蔽不需要生成的列。</p>
<p>该元素有一个<strong>必选属性</strong>：</p>
<ul>
<li><code>column</code>：要忽略的列名。</li>
</ul>
<p>该元素还有一个<strong>可选属性</strong>：</p>
<ul>
<li><code>delimitedColumnName</code>：匹配列名的时候是否区分大小写。如果为 true 则区分。默认值为false，不区分大小写。</li>
</ul>
<h5 id="参考资料："><a href="#参考资料：" class="headerlink" title="参考资料："></a>参考资料：</h5><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/isea533/article/details/42102297">MyBatis Generator 详解</a></p>
<p><a target="_blank" rel="noopener" href="http://www.mybatis.org/generator/configreference/xmlconfig.html">MyBatis GeneratorXML Configuration File Reference</a></p>
<p><a target="_blank" rel="noopener" href="http://mbg.cndocs.ml/configreference/xmlconfig.html">MyBatis Generator XML 配置参考</a>(中文文档网址失效了，直接看上面官方文档)</p>
<p><a target="_blank" rel="noopener" href="http://mbg.cndocs.ml/reference/extending.html">扩展 MyBatis Generator</a></p>
<p><a target="_blank" rel="noopener" href="https://www.kancloud.cn/wizardforcel/java-opensource-doc/153024">从源码构建</a></p>
<p><a target="_blank" rel="noopener" href="http://www.claredai.win/Mybatis-Generator.html">Mybatis Generator实现代码自动生成</a></p>
</li></ul></h5>
      
    </div>
    
    
    

	
	
		
	<div class="updated">
		<svg xmlns="http://www.w3.org/2000/svg" width="130" height="20">
			<linearGradient id="b" x2="0" y2="100%">
				<stop offset="0" stop-color="#bbb" stop-opacity=".1"></stop>
				<stop offset="1" stop-opacity=".1"></stop>
			</linearGradient>
			<clipPath id="a">
				<rect width="130" height="20" rx="3" fill="#fff"></rect>
			</clipPath>
			<g clip-path="url(#a)">
				<path fill="#555" d="M0 0h55v20H0z"></path>
				<path fill="#97CA00" d="M55 0h75v20H55z"></path>
				<path fill="url(#b)" d="M0 0h130v20H0z"></path>
			</g>
			<g fill="#fff" text-anchor="middle" font-family="Menlo,monospace" font-size="110">
				<text x="285" y="150" fill="#010101" fill-opacity=".3" textLength="450" transform="scale(.1)">updated</text>
				<text x="285" y="140" textLength="450" transform="scale(.1)">updated</text>
				<text x="915" y="150" fill="#010101" fill-opacity=".3" textLength="650" transform="scale(.1)">2025-05-24</text>
				<text x="915" y="140" textLength="650" transform="scale(.1)">2025-05-24</text>
			</g>
			
		</svg>
	</div>


  <div style="text-align:center;font-size:13px;letter-spacing:10px;user-select:none;margin-top:20px;color:#bbb">本文结束<i class="fa fa-star"></i>感谢阅读</div>

	
	
	
    

    
	
	<div>
      
        
<div class="my_post_copyright">
  <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>
  <!-- JS库 sweetalert 可修改路径 -->
  <script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <p><span>本文标题:</span><a href="/2018/10/29/015/">MyBatis Generator 逆向工程详解</a></p>
  <p><span>本文作者:</span><a href="https://woodwhales.cn/" title="访问 woodwhales 的个人博客">woodwhales</a></p>
  <p><span>原始链接:</span><a href="/2018/10/29/015/" title="MyBatis Generator 逆向工程详解">https://woodwhales.cn/2018/10/29/015/</a>
    <span class="copy-path"  title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="https://woodwhales.cn/2018/10/29/015/"  aria-label="复制成功！"></i></span>
  </p>
  <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p>  
</div>
<script> 
    var clipboard = new Clipboard('.fa-clipboard');
    $(".fa-clipboard").click(function(){
      clipboard.on('success', function(){
        swal({   
          title: "",   
          text: '复制成功',
          icon: "success", 
          showConfirmButton: true
          });
    });
    });  
</script>

      
	</div>

    
	
    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Spring-Boot/" rel="tag"><i class="fa fa-tag"></i> Spring Boot</a>
          
            <a href="/tags/MyBatis/" rel="tag"><i class="fa fa-tag"></i> MyBatis</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/10/22/013/" rel="next" title="深入理解计算机系统 | 学习笔记（四）">
                <i class="fa fa-chevron-left"></i> 深入理解计算机系统 | 学习笔记（四）
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/10/29/014/" rel="prev" title="深入理解计算机系统 | 学习笔记（五）">
                深入理解计算机系统 | 学习笔记（五） <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1815293530059355"
     crossorigin="anonymous"></script>

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/uploads/avatar-woodwhale.png"
                alt="woodwhales" />
            
              <p class="site-author-name" itemprop="name">woodwhales</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">103</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">64</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">84</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/woodwhales" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:woodwhales@163.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://juejin.im/user/5b1f7a2f518825137f0d31d1" target="_blank" title="掘金">
                      
                        <i class="fa fa-fw fa-book"></i>掘金</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.cnblogs.com/mujingyu/" target="_blank" title="博客园">
                      
                        <i class="fa fa-fw fa-laptop"></i>博客园</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-globe"></i>
                神奇的链接
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://music.cloudcoders.cn" title="开源音乐播放器" rel="external nofollow" target="_blank">开源音乐播放器</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://image.woodwhales.cn/" title="woodwhales-image-store" rel="external nofollow" target="_blank">woodwhales-image-store</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.bilibili.com/video/av6211226" title="尼古拉·特斯拉：发明了现代世界的人" rel="external nofollow" target="_blank">尼古拉·特斯拉：发明了现代世界的人</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.bilibili.com/video/av21376839" title="计算机科学速成课：Crash Course" rel="external nofollow" target="_blank">计算机科学速成课：Crash Course</a>
                  </li>
                
              </ul>
			  
			  <div id="days"></div>
<script>
	function show_date_time(){
	window.setTimeout("show_date_time()", 1000);
	BirthDay=new Date("12/21/2018 00:00:00");
	today=new Date();
	timeold=(today.getTime()-BirthDay.getTime());
	sectimeold=timeold/1000
	secondsold=Math.floor(sectimeold);
	msPerDay=24*60*60*1000
	e_daysold=timeold/msPerDay
	daysold=Math.floor(e_daysold);
	e_hrsold=(e_daysold-daysold)*24;
	hrsold=setzero(Math.floor(e_hrsold));
	e_minsold=(e_hrsold-hrsold)*60;
	minsold=setzero(Math.floor((e_hrsold-hrsold)*60));
	seconds=setzero(Math.floor((e_minsold-minsold)*60));
	document.getElementById('days').innerHTML="已运行 "+daysold+" 天 "+hrsold+" 小时 "+minsold+" 分 "+seconds+" 秒";
	}
	function setzero(i){
	if (i<10)
	{i="0" + i};
	return i;
	}
	show_date_time();
</script>
            </div>
          

          <!--<div id="days"></div>
<script>
	function show_date_time(){
	window.setTimeout("show_date_time()", 1000);
	BirthDay=new Date("12/21/2018 00:00:00");
	today=new Date();
	timeold=(today.getTime()-BirthDay.getTime());
	sectimeold=timeold/1000
	secondsold=Math.floor(sectimeold);
	msPerDay=24*60*60*1000
	e_daysold=timeold/msPerDay
	daysold=Math.floor(e_daysold);
	e_hrsold=(e_daysold-daysold)*24;
	hrsold=setzero(Math.floor(e_hrsold));
	e_minsold=(e_hrsold-hrsold)*60;
	minsold=setzero(Math.floor((e_hrsold-hrsold)*60));
	seconds=setzero(Math.floor((e_minsold-minsold)*60));
	document.getElementById('days').innerHTML="已运行 "+daysold+" 天 "+hrsold+" 小时 "+minsold+" 分 "+seconds+" 秒";
	}
	function setzero(i){
	if (i<10)
	{i="0" + i};
	return i;
	}
	show_date_time();
</script>-->
        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%80%E3%80%81Mysql-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87"><span class="nav-text">一、Mysql 数据库数据准备</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-text">1.1 创建数据库</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-2-%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E8%A1%A8"><span class="nav-text">2.2 创建用户表</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-3-%E5%88%9B%E5%BB%BA%E8%B4%AD%E7%89%A9%E8%BD%A6%E8%A1%A8"><span class="nav-text">1.3 创建购物车表</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E7%94%9F%E6%88%90"><span class="nav-text">二、逆向工程生成</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#2-1-pom-%E4%BE%9D%E8%B5%96%E9%85%8D%E7%BD%AE"><span class="nav-text">2.1 pom 依赖配置</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-2-%E9%85%8D%E7%BD%AE%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6"><span class="nav-text">2.2 配置映射文件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-3-%E9%85%8D%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-text">2.3 配置自定义配置文件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-4-%E8%BF%90%E8%A1%8C-mybatis-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B"><span class="nav-text">2.4 运行 mybatis 逆向工程</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-5-mapper-%E6%8E%A5%E5%8F%A3%E6%97%A2%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6%E6%B3%A8%E5%86%8C%E9%85%8D%E7%BD%AE"><span class="nav-text">2.5 mapper 接口既映射文件注册配置</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%89%E3%80%81MyBatis-Generator-%E8%AF%A6%E8%A7%A3"><span class="nav-text">三、MyBatis Generator 详解</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#3-1-XML-%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3"><span class="nav-text">3.1 XML 配置详解</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-2-%E6%A0%B9%E8%8A%82%E7%82%B9"><span class="nav-text">3.2 根节点</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E5%85%83%E7%B4%A0"><span class="nav-text">四、元素</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E5%85%83%E7%B4%A0"><span class="nav-text">五、元素</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%AD%E3%80%81%E5%85%83%E7%B4%A0"><span class="nav-text">六、元素</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#6-1-%E5%B1%9E%E6%80%A7"><span class="nav-text">6.1 属性</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-2-%E5%85%83%E7%B4%A0"><span class="nav-text">6.2 元素</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-3-%E5%85%83%E7%B4%A0"><span class="nav-text">6.3 元素</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-4-%E5%85%83%E7%B4%A0"><span class="nav-text">6.4 元素</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-5-%E5%85%83%E7%B4%A0"><span class="nav-text">6.5 元素</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-6-%E5%85%83%E7%B4%A0"><span class="nav-text">6.6 元素</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-7-%E5%85%83%E7%B4%A0"><span class="nav-text">6.7 元素</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-8-%E5%85%83%E7%B4%A0"><span class="nav-text">6.8 元素</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-9-%E5%85%83%E7%B4%A0"><span class="nav-text">6.9 元素该元素至少要配置一个。该元素用来配置要通过内省的表。只有配置的才会生成实体类和其他文件。该元素有一个必选属性：
tableName：指定要生成的表名，可以使用 SQL 通配符匹配多个表。
例如要生成全部的表，可以按如下配置：&lt;table tableName&#x3D;&quot;%&quot; &#x2F;&gt;

该元素包含多个可选属性：
schema：数据库的 schema，可以使用 SQL 通配符匹配。如果设置了该值，生成 SQL 的表名会变成如 schema.tableName 的形式。
catalog：数据库的 catalog，如果设置了该值，生成 SQL 的表名会变成如 catalog.tableName 的形式。
alias：如果指定，这个值会用在生成的 select 查询 SQL 的表的别名和列名上。 列名会被别名为 alias_actualColumnName（别名_实际列名）这种模式。
domainObjectName：生成对象的基本名称。如果没有指定，MBG 会自动根据表名来生成名称。
enableXXX：XXX 代表多种 SQL 方法，该属性用来指定是否生成对应的 XXX 语句。
selectByPrimaryKeyQueryId：DBA 跟踪工具会用到，具体请看详细文档。
selectByExampleQueryId：DBA 跟踪工具会用到，具体请看详细文档。
modelType：和&lt;context&gt;的defaultModelType含义一样，这里可以针对表进行配置，这里的配置会覆盖&lt;context&gt;的defaultModelType配置。
escapeWildcards：这个属性表示当查询列，是否对 schema 和表名中的 SQL 通配符 （’_’ and ‘%’）进行转义。 对于某些驱动当 schema 或表名中包含 SQL 通配符时（例如，一个表名是 MY_TABLE，有一些驱动需要将下划线进行转义）是必须的。默认值是 false。
delimitIdentifiers：是否给标识符增加分隔符。默认 false。当 catalog，schema 或 tableName 中包含空白时，默认为true。
delimitAllColumns：是否对所有列添加分隔符。默认 false。
该元素包含多个可用的&lt;property&gt;子元素，可选属性为：
constructorBased：和中的属性含义一样。
ignoreQualifiersAtRuntime：生成的 SQL 中的表名将不会包含 schema 和 catalog 前缀。
immutable：和中的属性含义一样。
modelOnly：此属性用于配置是否为表只生成实体类。如果设置为 true 就不会有 Mapper 接口。如果配置了，并且 modelOnly 为 true，那么 XML 映射文件中只有实体对象的映射元素（ ）。如果为 true 还会覆盖属性中的 enableXXX 方法，将不会生成任何 CRUD 方法。
rootClass：和中的属性含义一样。
rootInterface：和中的属性含义一样。
runtimeCatalog：运行时的 catalog，当生成表和运行环境的表的 catalog 不一样的时候可以使用该属性进行配置。
runtimeSchema：运行时的 schema，当生成表和运行环境的表的 schema 不一样的时候可以使用该属性进行配置。
runtimeTableName：运行时的 tableName，当生成表和运行环境的表的 tableName 不一样的时候可以使用该属性进行配置。
selectAllOrderByClause：该属性值会追加到 selectAll 方法后的 SQL 中，会直接跟 order by 拼接后添加到 SQL 末尾。
useActualColumnNames：如果设置为 true，那么 MBG 会使用从数据库元数据获取的列名作为生成的实体对象的属性。 如果为 false（默认值），MGB 将会尝试将返回的名称转换为驼峰形式。 在这两种情况下，可以通过 元素显示指定，在这种情况下将会忽略这个（useActualColumnNames）属性。
useColumnIndexes：如果是 true，MBG 生成 resultMaps 的时候会使用列的索引,而不是结果中列名的顺序。
useCompoundPropertyNames：如果是 true，那么 MBG 生成属性名的时候会将列名和列备注接起来。这对于那些通过第四代语言自动生成列（例如：FLD22237），但是备注包含有用信息（例如：”customer id”）的数据库来说很有用。在这种情况下，MBG 会生成属性名 FLD2237_CustomerId。
6.10 






除了&lt;property&gt;子元素外，&lt;table&gt;还包含以下子元素：
子元素1234&lt;generatedKey&gt; (0 个或 1 个)&lt;columnRenamingRule&gt; (0 个或 1 个)&lt;columnOverride&gt; (0 个或多个)&lt;ignoreColumn&gt; (0 个或多个)

下面对这 4 个元素进行详细讲解。
6.10.1  元素
这个元素最多可以配置一个。这个元素用来指定自动生成主键的属性（identity 字段或者 sequences 序列）。如果指定这个元素，MBG 在生成 insert 的 SQL 映射文件中插入一个&lt;selectKey&gt;元素。 这个元素非常重要。
这个元素包含下面两个必选属性：

column：生成列的列名。

sqlStatement：将返回新值的 SQL 语句。如果这是一个 identity 列，您可以使用其中一个预定义的的特殊值。预定义值如下：
12345678910CloudscapeDB2DB2_MFDerbyHSQLDBInformixMySqlSqlServerSYBASEJDBC


JDBC：这会配置 MBG 使用 MyBatis3 支持的 JDBC 标准的生成 key 来生成代码。 这是一个独立于数据库获取标识列中的值的方法。
重要：只有当目标运行为 MyBatis3 时才会产生正确的代码。如果与 iBATIS2 一起使用目标运行时会产生运行时错误的代码。

这个元素还包含两个可选属性：

identity：当设置为true时,该列会被标记 为identity 列， 并且&lt;selectKey&gt;元素会被插入在 insert 后面。 当设置为false时，&lt;selectKey&gt;会插入到 insert 之前（通常是序列）。重要：即使您 type 属性指定为 post，您仍然需要为 identity 列将该参数设置为 true。 这将标志 MBG 从插入列表中删除该列。默认值是 false。
type：type &#x3D; post and identity &#x3D; true 的时候生成的中的 order&#x3D;AFTER，当 type&#x3D;pre 的时候，identity 只能为 false，生成的中的 order &#x3D; BEFORE。可以这么理解，自动增长的列只有插入到数据库后才能得到 ID，所以是 AFTER，使用序列时，只有先获取序列之后，才能插入数据库，所以是：BEFORE。

 元素配置示例一：

123&lt;table tableName&#x3D;&quot;user login info&quot; domainObjectName&#x3D;&quot;UserLoginInfo&quot;&gt;    &lt;generatedKey column&#x3D;&quot;id&quot; sqlStatement&#x3D;&quot;Mysql&quot;&#x2F;&gt;&lt;&#x2F;table&gt;

对应的生成的结果：
1234567&lt;insert id&#x3D;&quot;insert&quot; parameterType&#x3D;&quot;test.model.UserLoginInfo&quot;&gt;    &lt;selectKey keyProperty&#x3D;&quot;id&quot; order&#x3D;&quot;AFTER&quot; resultType&#x3D;&quot;java.lang.Integer&quot;&gt;        SELECT LAST_INSERT_ID()    &lt;&#x2F;selectKey&gt;    insert into &#96;user login info&#96; (Id, username, logindate, loginip)    values (#{id,jdbcType&#x3D;INTEGER}, #{username,jdbcType&#x3D;VARCHAR}, #{logindate,jdbcType&#x3D;TIMESTAMP}, #{loginip,jdbcType&#x3D;VARCHAR})&lt;&#x2F;insert&gt;

 元素配置示例二：

123&lt;table tableName&#x3D;&quot;user login info&quot; domainObjectName&#x3D;&quot;UserLoginInfo&quot;&gt;    &lt;generatedKey column&#x3D;&quot;id&quot; sqlStatement&#x3D;&quot;select SEQ_ID.nextval from dual&quot;&#x2F;&gt;&lt;&#x2F;table&gt;

对应的生成结果：
1234567&lt;insert id&#x3D;&quot;insert&quot; parameterType&#x3D;&quot;test.model.UserLoginInfo&quot;&gt;    &lt;selectKey keyProperty&#x3D;&quot;id&quot; order&#x3D;&quot;BEFORE&quot; resultType&#x3D;&quot;java.lang.Integer&quot;&gt;        select SEQ_ID.nextval from dual    &lt;&#x2F;selectKey&gt;    insert into &#96;user login info&#96; (Id, username, logindate, loginip)    values (#{id,jdbcType&#x3D;INTEGER}, #{username,jdbcType&#x3D;VARCHAR}, #{logindate,jdbcType&#x3D;TIMESTAMP},#{loginip,jdbcType&#x3D;VARCHAR})&lt;&#x2F;insert&gt;

6.10.2  元素
该元素最多可以配置一个，使用该元素可以在生成列之前，对列进行重命名。这对那些存在同一前缀的字段想在生成属性名时去除前缀的表非常有用。 例如假设一个表包含以下的列：
1234CUST_BUSINESS_NAMECUST_STREET_ADDRESSCUST_CITYCUST_STATE

生成的所有属性名中如果都包含CUST的前缀可能会让人不爽。这些前缀可以通过如下方式定义重命名规则:
1&lt;columnRenamingRule searchString&#x3D;&quot;^CUST_&quot; replaceString&#x3D;&quot;&quot; &#x2F;&gt;

注意：在内部，MBG 使用java.util.regex.Matcher.replaceAll方法实现这个功能。请参阅有关该方法的文档和在 Java 中使用正则表达式的例子。
当&lt;columnOverride&gt;匹配一列时，这个元素（&lt;columnRenamingRule&gt;）会被忽略。&lt;columnOverride&gt;优先于重命名的规则。
该元素有一个必选属性：

searchString：定义将被替换的字符串的正则表达式。

该元素有一个可选属性：

replaceString：这是一个用来替换搜索字符串列每一个匹配项的字符串。如果没有指定，就会使用空字符串。


关于&lt;table&gt;的&lt;property&gt;属性useActualColumnNames对此的影响可以查看完整文档。

6.10.3  元素
该元素可选，可以配置多个。该元素从将某些属性默认计算的值更改为指定的值。
该元素有一个必选属性：

column：要重写的列名。

该元素有多个可选属性：

property：要使用的 Java 属性的名称。如果没有指定，MBG 会根据列名生成。 例如，如果一个表的一列名为STRT_DTE，MBG会根据  的 useActualColumnNames 属性生成 STRT_DTE 或 strtDte。javaType：该列属性值为完全限定的 Java 类型。如果需要，这可以覆盖由JavaTypeResolver计算出的类型。 对某些数据库来说，这是必要的用来处理“奇怪的”数据库类型（例如 MySql 的 unsigned bigint 类型需要映射为java.lang.Object)。jdbcType：该列的 JDBC 类型（INTEGER, DECIMAL, NUMERIC, VARCHAR 等等）。 如果需要，这可以覆盖由 JavaTypeResolver 计算出的类型。 对某些数据库来说，这是必要的用来处理怪异的 JDBC 驱动 (例如 DB2 的LONGVARCHAR 类型需要为 iBATIS 映射为 VARCHAR)。typeHandler：用户定义的需要用来处理这列的类型处理器。它必须是一个继承 iBATIS 的 TypeHandler 类或 TypeHandlerCallback 接口（该接口很容易继承）的全限定的类名。如果没有指定或者是空白，iBATIS会用默认的类型处理器来处理类型。重要：MBG 不会校验这个类型处理器是否存在或者可用。 MGB 只是简单的将这个值插入到生成的 SQL 映射的配置文件中。delimitedColumnName：指定是否应在生成的 SQL 的列名称上增加分隔符。 如果列的名称中包含空格，MGB 会自动添加分隔符， 所以这个重写只有当列名需要强制为一个合适的名字或者列名是数据库中的保留字时是必要的。&lt;columnOverride&gt; 元素配置示例：






123&lt;table schema&#x3D;&quot;DB2ADMIN&quot; tableName&#x3D;&quot;ALLTYPES&quot; &gt;    &lt;columnOverride column&#x3D;&quot;LONG_VARCHAR_FIELD&quot; javaType&#x3D;&quot;java.lang.String&quot; jdbcType&#x3D;&quot;VARCHAR&quot; &#x2F;&gt;&lt;&#x2F;table&gt;

6.10.4  元素
该元素可选，可以配置多个。该元素可以用来屏蔽不需要生成的列。
该元素有一个必选属性：

column：要忽略的列名。

该元素还有一个可选属性：

delimitedColumnName：匹配列名的时候是否区分大小写。如果为 true 则区分。默认值为false，不区分大小写。

参考资料：MyBatis Generator 详解
MyBatis GeneratorXML Configuration File Reference
MyBatis Generator XML 配置参考(中文文档网址失效了，直接看上面官方文档)
扩展 MyBatis Generator
从源码构建
Mybatis Generator实现代码自动生成
</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-10-%E5%AD%90%E5%85%83%E7%B4%A0"><span class="nav-text">6.10 </span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99%EF%BC%9A"><span class="nav-text">参考资料：</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1815293530059355"
     crossorigin="anonymous"></script>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; 2018 &mdash; <span itemprop="copyrightYear">2025</span>
  <span class="with-love" id="heart">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">木鲸鱼</span>
  
</div>









        
<div class="busuanzi-count">
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user-circle-o"></i> 访问人数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i> 访问总量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  








  <script src="//code.bdstatic.com/npm/leancloud-storage@4.12.0/dist/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>

  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: true,
        appId: 'WWd60b61wU67AeJzg0yzDD1E-gzGzoHsz',
        appKey: 'QjMAV3Hw76n6nhrDaxLtfoPE',
        placeholder: '网络一线牵珍惜,珍惜这段缘\n 您可以填写邮箱，回复评论时，您会收到邮件通知。',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
        serverURLs: 'https://wwd60b61.lc-cn-n1-shared.com'
    });
  </script>


  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  

  
  <!-- 代码块复制功能 -->
  <!-- 代码块复制功能 -->
<script type="text/javascript" src="/js/src/clipboard.min.js"></script>  
<script type="text/javascript" src="/js/src/clipboard-use.js"></script>
  
  <!-- 音乐 
  <link rel="stylesheet" href="/dist/APlayer.min.css">
<div id="aplayer"></div>
<script type="text/javascript" src="/dist/APlayer.min.js"></script>
<script type="text/javascript" src="/dist/music.js"></script>
  -->

  <!-- 动态背景 
  <script type="text/javascript" src="/js/src/dynamic_bg.js"></script>
  -->
  
</body>
</html>
